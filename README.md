# README: Функциональные и нефункциональные требования для социальной сети

## Введение
Этот документ описывает функциональные и нефункциональные требования для проектирования и реализации социальной сети, аналогичной ВКонтакте (VK). Также включены приблизительные расчеты размера базы данных для хранения сообщений на 5 лет, входящего трафика на создание постов, объема дискового пространства для хранения данных на 5 лет и RPS (запросов в секунду) по созданию и чтению постов.

## Функциональные требования

### Пользовательские профили
- **Создание профиля:** Пользователи должны иметь возможность создавать профиль с полями, такими как имя, описание, фото, город и интересы.
- **Редактирование профиля:** Пользователи могут обновлять информацию своего профиля.
- **Просмотр профиля:** Пользователи могут просматривать профили других пользователей.

### Посты
- **Создание поста:** Пользователи могут создавать посты с описанием, медиа (фото, видео), хэштегами и локацией.
- **Просмотр постов:** Пользователи могут просматривать посты в своей ленте.
- **Лайк поста:** Пользователи могут ставить лайки на посты.
- **Комментарий к посту:** Пользователи могут оставлять комментарии к постам.
- **Репост:** Пользователи могут делиться постами.

### Сообщения
- **Отправка сообщений:** Пользователи могут отправлять личные сообщения друг другу.
- **Получение сообщений:** Пользователи могут получать личные сообщения.
- **Чтение сообщений:** Сообщения имеют отметки о прочтении.

### Отношения
- **Добавление в друзья:** Пользователи могут отправлять запросы в друзья.
- **Принятие запроса в друзья:** Пользователи могут принимать запросы в друзья.
- **Подписка/Отписка:** Пользователи могут подписываться или отписываться от других пользователей.
- **Блокировка/Разблокировка:** Пользователи могут блокировать или разблокировать других пользователей.

### Медиа
- **Загрузка медиа:** Пользователи могут загружать фото, аудио и видео.
- **Просмотр медиа:** Пользователи могут просматривать медиа в постах и профилях.

## Нефункциональные требования

### Производительность
- **Масштабируемость:** Система должна поддерживать большое количество одновременных пользователей.
- **Время отклика:** Система должна обеспечивать низкую задержку при создании и извлечении постов.
- **Пропускная способность:** Система должна поддерживать высокую частоту запросов в секунду (RPS).

### Надежность
- **Доступность:** Система должна быть доступна 99.9% времени.
- **Отказоустойчивость:** Система должна уметь восстанавливаться после сбоев.

### Безопасность
- **Защита данных:** Данные пользователей должны быть зашифрованы при хранении и передаче.
- **Аутентификация и авторизация:** Безопасные механизмы входа и ролевое управление доступом.

### Поддерживаемость
- **Модульность:** Система должна быть модульной для облегчения обслуживания и обновлений.
- **Документация:** Полная документация для разработчиков и пользователей.

## Расчеты

### Размер базы данных для сообщений
Предположения:
- **Ежедневно активные пользователи:** 47 миллионов
- **Среднее количество сообщений на пользователя в день:** 20
- **Средний размер сообщения:** 200 байт

```
Ежедневные сообщения = 47,000,000 пользователей * 20 сообщений/пользователь = 940,000,000 сообщений
Ежедневное хранилище = 940,000,000 сообщений * 200 байт = 188,000,000,000 байт = 188 ГБ
Годовое хранилище = 188 ГБ/день * 365 дней = 68,620 ГБ ≈ 68.6 ТБ
Хранилище на 5 лет = 68.6 ТБ * 5 = 343 ТБ
```

### Входящий трафик для создания постов
Предположения:
- **Постов на пользователя в день:** 2
- **Средний размер поста (с медиа):** 500 КБ

```
Ежедневные посты = 47,000,000 пользователей * 2 поста/пользователь = 94,000,000 постов
Ежедневный трафик = 94,000,000 постов * 500 КБ = 47,000,000,000 КБ = 47 ТБ
Годовой трафик = 47 ТБ/день * 365 дней = 17,155 ТБ ≈ 17.2 ПБ
```

### Дисковое пространство для хранения данных
Предполагая дополнительные данные, такие как комментарии, лайки и медиа:
- **Общий объем для сообщений за 5 лет:** 343 ТБ
- **Дополнительные данные (примерно 50% от объема сообщений):** 171.5 ТБ
- **Общий объем дискового пространства:** 343 ТБ + 171.5 ТБ = 514.5 ТБ ≈ 515 ТБ

### RPS для создания и чтения постов
Предполагая пиковую нагрузку:
- **Создание постов (10% активных пользователей в пиковое время):** 4.7 миллиона пользователей
- **Создание постов на пользователя в секунду в пиковое время:** 0.001 (1 пост на 1000 секунд)
- **Создание постов RPS:** 4,700 RPS

- **Чтение постов (50% активных пользователей в пиковое время):** 23.5 миллиона пользователей
- **Чтение постов на пользователя в секунду в пиковое время:** 0.01 (1 прочтение на 100 секунд)
- **Чтение постов RPS:** 235,000 RPS
